(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{112:function(a,t,n){"use strict";n.r(t);var e=n(0),s=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"开发和部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开发和部署","aria-hidden":"true"}},[a._v("#")]),a._v(" 开发和部署")]),a._v(" "),n("h2",{attrs:{id:"本地开发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#本地开发","aria-hidden":"true"}},[a._v("#")]),a._v(" 本地开发")]),a._v(" "),n("ul",[n("li",[a._v("flash-api默认使用8082端口，所以启动后将提供http://localhost:8082接口服务,可以通过 访问http://localhost:8082/swagger-ui.html验证api服务是否成功启动")]),a._v(" "),n("li",[a._v("flash-vue-admin项目中的vue.config.js配置了开发环境的api地址,如果更改api的端口，则需要配合调整")])]),a._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[a._v(" target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[a._v("`http://localhost:8082`")])]),a._v("\n")])])]),n("ul",[n("li",[a._v("用户通过浏览器debug看到的api地址是http://localhost:9528/dev-api，但是实际上会被proxy代理到http://localhost:8082")])]),a._v(" "),n("h2",{attrs:{id:"生产部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生产部署","aria-hidden":"true"}},[a._v("#")]),a._v(" 生产部署")]),a._v(" "),n("ul",[n("li",[a._v("运行：npm run build:prod可以构建出生产环境的前端部署文件")]),a._v(" "),n("li",[a._v("前端链接的api服务地址为前端地址+prod-api，")])]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("以本项目演示环境为例,前端地址为：http://flash-admin.enilu.cn\n那么请求的api地址为:http://flash-admin.enilu.cn/prod-api\n可以通过访问http://flash-admin.enilu.cn/prod-api/swagger-ui.html来检测生产环境的api服务是否正常\n")])])]),n("ul",[n("li",[a._v("用户通过浏览器debug看到的api地址是http://flash-admin.enilu.cn/prod-api/，但是实际上会被代理软件（建议使用nginx)转发到实际的api地址")])]),a._v(" "),n("p",[a._v("下面给出本人的nginx配置供参考：")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("server {\n    listen       80;\n    server_name  flash-admin.enilu.cn;\n\n    access_log  /data/app/runtime/log/nginx/flash-admin.access.log  main;\n    \n    location /{\n                alias /opt/web-flash/admin/;\n                index index.html index.htm;\n    }\n  location /prod-api/{\n                proxy_ignore_client_abort on;\n                proxy_set_header   Host             $host;\n                proxy_set_header   X-Real-IP        $remote_addr;\n                proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\n                proxy_read_timeout 600s;\n\n                proxy_pass      http://localhost:8080/api/;\n    }\n\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n}\n\n")])])])])}],!1,null,null,null);t.default=s.exports}}]);